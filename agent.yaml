# Default provider-agnostic runtime configuration for Comet Page Reader.
# Supported providers include free, community, trial, and paid tiers. Extend or override
# these fields in your deployment specific configuration.
provider: openai
model: gpt-4o-mini
api_url: https://api.openai.com/v1/chat/completions
api_key_var: OPENAI_API_KEY
# Temperature controls the creativity of generated summaries.
temperature: 0.3
# Optional HTTP headers that should accompany every request.
# headers:
#   X-Custom-Header: value

routing:
  provider_order:
    - ollama
    - huggingface_free
    - gemini_free
    - openai_trial
    - mistral_trial
    - gemini_paid
    - openai_paid
    - anthropic_paid
    - mistral_paid
  disable_paid: false
  timeout_ms: 20000
  retry_limit: 2
  # Raised from 30 so that default installs can summarise typical pages without manual tuning.
  max_tokens_per_call: 2400
  max_monthly_tokens: 6000

gemini:
  default_model_free: gemini-1.5-flash
  default_model_paid: gemini-1.5-pro
  api_key_env: GOOGLE_API_KEY
  project_env: GCP_PROJECT
  location_env: GCP_LOCATION
  credentials_env: GCP_CREDENTIALS
  vertex_endpoint_env: VERTEX_ENDPOINT

providers:
  ollama:
    provider: ollama
    requires_api_key: false
  huggingface_free:
    provider: huggingface
    model: mistral-7b-instruct
    api_key_var: HUGGINGFACE_API_KEY
  gemini_free:
    provider: gemini
    model: gemini-1.5-flash
    api_url: https://generativelanguage.googleapis.com/v1beta/models
    api_key_var: GOOGLE_API_KEY
  gemini_paid:
    provider: gemini
    model: gemini-1.5-pro
    api_url: https://{location}-aiplatform.googleapis.com/v1/projects/{project}/locations/{location}/publishers/google/models
    api_key_var: GOOGLE_API_KEY
  openai_trial:
    provider: openai
    model: gpt-4o-mini
    api_url: https://api.openai.com/v1/chat/completions
    api_key_var: OPENAI_API_KEY
  openai_paid:
    provider: openai
    model: gpt-4o-mini
    api_url: https://api.openai.com/v1/chat/completions
    api_key_var: OPENAI_API_KEY
  mistral_trial:
    provider: mistral
    model: mistral-small
    api_url: https://api.mistral.ai/v1/chat/completions
    api_key_var: MISTRAL_API_KEY
  mistral_paid:
    provider: mistral
    model: mistral-large
    api_url: https://api.mistral.ai/v1/chat/completions
    api_key_var: MISTRAL_API_KEY
  anthropic_paid:
    provider: anthropic
    model: claude-3-opus
    api_url: https://api.anthropic.com/v1/messages
    api_key_var: ANTHROPIC_API_KEY
